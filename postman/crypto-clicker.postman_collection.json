{
  "info": {
    "name": "Crypto Clicker",
    "_postman_id": "crypto-clicker-collection",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "variable": [
    {
      "key": "baseUrlBackend",
      "value": "{{baseUrlBackend}}"
    },
    {
      "key": "baseUrlBot",
      "value": "{{baseUrlBot}}"
    },
    {
      "key": "baseUrlFrontend",
      "value": "{{baseUrlFrontend}}"
    }
  ],
  "item": [
    {
      "name": "Backend",
      "item": [
        {
          "name": "Health",
          "item": [
            {
              "name": "Health Check",
              "request": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "{{baseUrlBackend}}/health-check",
                  "host": ["{{baseUrlBackend}}"],
                  "path": ["health-check"]
                }
              }
            },
            {
              "name": "Version",
              "request": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "{{baseUrlBackend}}/version",
                  "host": ["{{baseUrlBackend}}"],
                  "path": ["version"]
                }
              }
            }
          ]
        },
        {
          "name": "User",
          "item": [
            {
              "name": "Get Me",
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "X-Telegram-Init-Data",
                    "value": "{{telegramInitData}}",
                    "type": "text",
                    "description": "Telegram WebApp init data"
                  }
                ],
                "url": {
                  "raw": "{{baseUrlBackend}}/api/me",
                  "host": ["{{baseUrlBackend}}"],
                  "path": ["api", "me"]
                },
                "description": "Get current user profile and score.\n\n**Response:**\n```json\n{\n  \"user\": {\n    \"telegramId\": \"94986611\",\n    \"username\": \"ffrm4n\",\n    \"firstName\": \"Eugene\",\n    \"lastName\": null,\n    \"createdAt\": \"2024-12-12T10:00:00.000Z\",\n    \"updatedAt\": \"2024-12-12T10:00:00.000Z\"\n  },\n  \"score\": 42\n}\n```"
              }
            },
            {
              "name": "Get Score",
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "X-Telegram-Init-Data",
                    "value": "{{telegramInitData}}",
                    "type": "text",
                    "description": "Telegram WebApp init data"
                  }
                ],
                "url": {
                  "raw": "{{baseUrlBackend}}/api/score",
                  "host": ["{{baseUrlBackend}}"],
                  "path": ["api", "score"]
                },
                "description": "Get user's total score (clicks count).\n\n**Response:**\n```json\n{\n  \"score\": 42\n}\n```"
              }
            }
          ]
        },
        {
          "name": "Clicks",
          "item": [
            {
              "name": "Save Clicks",
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "X-Telegram-Init-Data",
                    "value": "{{telegramInitData}}",
                    "type": "text",
                    "description": "Telegram WebApp init data"
                  },
                  {
                    "key": "Content-Type",
                    "value": "application/json",
                    "type": "text"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "[\n  {\n    \"timestamp\": \"2024-12-12T10:00:00.000Z\",\n    \"x\": 150,\n    \"y\": 200,\n    \"metadata\": {\n      \"userAgent\": \"Mozilla/5.0\",\n      \"hasTouchEvents\": true,\n      \"timeZone\": \"Europe/Kiev\"\n    }\n  }\n]"
                },
                "url": {
                  "raw": "{{baseUrlBackend}}/api/clicks",
                  "host": ["{{baseUrlBackend}}"],
                  "path": ["api", "clicks"]
                },
                "description": "Save batch of clicks (max 50).\n\n**Request Body:**\n```json\n[\n  {\n    \"timestamp\": \"2024-12-12T10:00:00.000Z\",\n    \"x\": 150,\n    \"y\": 200,\n    \"metadata\": { ... }\n  }\n]\n```\n\n**Response:**\n```json\n{\n  \"score\": 42\n}\n```"
              }
            }
          ]
        }
      ]
    },
    {
      "name": "Frontend",
      "item": [
        {
          "name": "Health Check",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrlFrontend}}/api/health",
              "host": ["{{baseUrlFrontend}}"],
              "path": ["api", "health"]
            }
          }
        }
      ]
    },
    {
      "name": "Bot",
      "item": [
        {
          "name": "Health Check",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrlBot}}/health-check",
              "host": ["{{baseUrlBot}}"],
              "path": ["health-check"]
            }
          }
        },
        {
          "name": "Version",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrlBot}}/version",
              "host": ["{{baseUrlBot}}"],
              "path": ["version"]
            }
          }
        }
      ]
    }
  ]
}
